<!DOCTYPE html>
<html>

<head>
    <title>Insert Data into JSON</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>

<body>
      <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand">Shakthi App</a>
      </div>
      <ul class="nav navbar-nav">
        <li><a>Home</a></li>
        <li><a href="index.html" onclick="logout()">Logout</a></li>
      </ul>
    </div>
  </nav>
    <h2>Enter User Info</h2>
    <form id="dataForm">
        <label>Bill No.:</label>
        <input type="text" id="billNo" value="WGL/SGSL/A-0338" required>

        <label>Bill Date:</label>
        <input type="text" id="billDate" placeholder="DD/MM/YYYY" required>

        <div class="form-group">
            <label for="modeOfTransport">Mode Of Transport:</label>
            <input list="transportOptions" id="modeOfTransport" class="form-control"
                placeholder="Select Mode Of Transport" value="">
            <datalist id="transportOptions">
                <option value="TRACTOR & TROLLEY">
                <option value="TRUCK (TIPPER)">
            </datalist>
        </div>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById('dataForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = {
                name: formData.get('name'),
                email: formData.get('email')
            };

            fetch('/save', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
                .then(res => res.text())
                .then(msg => alert(msg))
                .catch(err => alert('Error: ' + err));
        });
    </script>
</body>

</html>